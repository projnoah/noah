!function r(t,e,a){function o(i,s){if(!e[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(n)return n(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var f=e[i]={exports:{}};t[i][0].call(f.exports,function(r){var e=t[i][1][r];return o(e?e:r)},f,f.exports,r,t,e,a)}return e[i].exports}for(var n="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}({1:[function(r,t,e){"use strict";$(function(){function r(r){var i=r.target.value.split("\\").pop();i&&e.find("span").html(i),a=a?a:$(t).parents("form")[0],$(a).addClass("loading"),$($(e).find("figure")[0]).toggleClass("icon-cloud-upload fa fa-spin fa-spinner"),$.ajaxFileUpload({url:a.action,dataType:"json",fileElementId:"avatar-file",success:function(r){$(o).attr("src",r.url),$(o).cropper({aspectRatio:1,rotatable:!1,scalable:!1,zoomable:!1}),$(n).fadeIn()},error:function(r){},complete:function(){$(a).removeClass("loading"),$($(e).find("figure")[0]).toggleClass("icon-cloud-upload fa fa-spin fa-spinner")}})}var t,e,a,o=$(".avatar-crop img"),n=$("button#resize-button");$(".input-file").each(function(){t=$(this),e=t.next("label"),e.on("click",function(){$(t).click()}),t.on("change",r),t.on("focus",function(){t.addClass("has-focus")}).on("blur",function(){t.removeClass("has-focus")})}),$(n).on("click",function(){var r=$(o).cropper("getData"),t=$("form#resize-avatar");$.post({url:$(t).attr("action"),data:r,success:function(r){"error"!=r.status?(Admin.User.avatarUrl=r.avatarUrl,toastr.success("<h4>"+r.message+"</h4>"),$(n).fadeOut(),o.cropper("destroy")):toastr.error("<h4>"+r.message+"</h4>")},error:function(r){toastr.error("<h4>"+r.responseText+"</h4>")},complete:function(){setTimeout(function(){var r="#"+$(a).attr("id");$.pjax.reload(r)},100)}})})})},{}]},{},[1]);