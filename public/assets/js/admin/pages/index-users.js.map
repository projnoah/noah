{"version":3,"names":[],"mappings":"","sources":["index-users.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\n$(function () {\n    var allSwitches = $(\"th input[type=checkbox]\");\n\n    $(\"thead input[type=checkbox], tfoot input[type=checkbox]\").each(function () {\n        $(this).on('change', function () {\n            toggleGlobally(this.checked);\n        }.bind(this));\n    });\n\n    $(\"a[data-delete]\").each(function () {\n        $(this).click(function (e) {\n            e.preventDefault();\n            var userID = $($(this).parents(\"tr\")[0]).attr('user-id');\n\n            Admin.showWarningAlert(deleteMessages, function () {\n                deleteUser(deleteUrl + \"/\" + userID, 'DELETE');\n            });\n        }.bind(this));\n    });\n\n    $(\".bulk-delete\").each(function () {\n        $(this).on('click', function () {\n            var total = getTotalBulkCount();\n            if (total == 0) return false;\n\n            var $ids = getTotalUserIDs();\n\n            Admin.showWarningAlert(deleteMessages, function () {\n                deleteUser(bulkUrl, 'PATCH', $ids, 'delete');\n            });\n        }.bind(this));\n    });\n\n    function deleteUser(url, type, ids, action) {\n        $.ajax({\n            url: url,\n            type: type,\n            data: ids ? {\n                _token: $(\"meta[name=_token]\").attr('content'),\n                userIDs: ids,\n                action: action\n            } : { _token: $(\"meta[name=_token]\").attr('content') },\n            dataType: 'json',\n            success: function success() {\n                swal({\n                    title: deleteMessages.success,\n                    timer: 1350,\n                    type: 'success',\n                    showConfirmButton: false\n                });\n                setTimeout(function () {\n                    $.pjax.reload(pjaxContainer);\n                }, 1000);\n            },\n            error: function error(err) {\n                toastr.error(err.responseText);\n            }\n        });\n    }\n\n    function getTotalUserIDs() {\n        var $ids = new Array();\n\n        $(\"tbody input[type=checkbox]\").each(function () {\n            if (this.checked) {\n                $ids.push($($(this).parents(\"tr\")[0]).attr('user-id'));\n            }\n        });\n\n        return $ids.join(',');\n    }\n\n    function getTotalBulkCount() {\n        var count = 0;\n        $(\"tbody input[type=checkbox]\").each(function () {\n            if (this.checked) {\n                count++;\n            }\n        });\n\n        return count;\n    }\n\n    function toggleGlobally($on) {\n        $(allSwitches).each(function () {\n            if (this.checked != $on) {\n                $(this).click();\n            }\n        });\n    }\n});\n\n},{}]},{},[1]);\n"],"file":"index-users.js","sourceRoot":"/source/"}